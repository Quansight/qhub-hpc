c.DaskGateway.backend_class = (
    "dask_gateway_server.backends.jobqueue.slurm.SlurmBackend"
)

c.JobQueueBackend.dask_gateway_jobqueue_launcher = "{{ miniforge.home }}/envs/{{ dask_gateway.environment }}/bin/dask-gateway-jobqueue-launcher"
c.JobQueueClusterConfig.scheduler_cmd = "{{ miniforge.home }}/envs/{{ jupyterhub.lab_environment }}/bin/dask-scheduler"
c.JobQueueClusterConfig.worker_cmd = "{{ miniforge.home }}/envs/{{ jupyterhub.lab_environment }}/bin/dask-worker"


c.Proxy.address = ':{{ dask_gateway.api_port }}'
c.Proxy.tcp_address = ':{{ dask_gateway.tcp_port }}'

# Authentication
c.DaskGateway.authenticator_class = "dask_gateway_server.auth.JupyterHubAuthenticator"
c.JupyterHubAuthenticator.jupyterhub_api_token = "{{ jupyterhub.services.dask_gateway }}"
c.JupyterHubAuthenticator.jupyterhub_api_url = "http://localhost:{{ jupyterhub.port }}/hub/api"